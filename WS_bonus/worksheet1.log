# Worksheet BONUS - Learning Git via xv6 Teaching OS
# Commands executed:

pwd
cd ~
cd Desktop/
ls -latr ; mkdir cs149 ; cd cs149
git init
git remote add origin https://github.com/pranavs741/cs149.git
git config --global user.email "pranavs741@gmail.com"
git config --global user.name "Pranav Singh"
mkdir WS_bonus
cd WS_bonus
git add .
curl -L -o out.pdf https://tinyurl.com/yy94jltt
ls -latr

# Clone xv6-labs-2023
cd ~
git clone git://g.csail.mit.edu/xv6-labs-2023
cd xv6-labs-2023

# Install RISC-V toolchain and QEMU (macOS)
brew install riscv64-elf-gcc qemu

# Create sleep.c in user/sleep.c
# Added sleep to UPROGS in Makefile

# Build xv6
make clean
make
make fs.img

# Test sleep program
./grade-lab-util sleep

# All tests passed:
# == Test sleep, no arguments == sleep, no arguments: OK
# == Test sleep, returns == sleep, returns: OK  
# == Test sleep, makes syscall == sleep, makes syscall: OK

# Copy sleep.c to WS_bonus
cp ~/xv6-labs-2023/user/sleep.c ~/Desktop/cs149/WS_bonus/

# Git commands to push
cd ~/Desktop/cs149
git add WS_bonus/sleep.c WS_bonus/out.pdf WS_bonus/worksheet1.log
git commit -m "Worksheet BONUS - xv6 sleep implementation"
git push -u origin main

